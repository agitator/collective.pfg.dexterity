---
language: python
python: '2.7'
install:
- mkdir -p buildout-cache/eggs
- mkdir -p buildout-cache/downloads
- python bootstrap.py -c travis.cfg
- bin/buildout -N -t 3 -c travis.cfg
- curl -O http://saucelabs.com/downloads/Sauce-Connect-latest.zip
- unzip Sauce-Connect-latest.zip
- java -jar Sauce-Connect.jar $SAUCE_USERNAME $SAUCE_ACCESS_KEY -f CONNECTED &
- JAVA_PID=$!
before_script:
- bash -c "while [ ! -f CONNECTED ]; do sleep 2; done"
- export ROBOT_BUILD_NUMBER=travis-$TRAVIS_BUILD_NUMBER
- export ROBOT_REMOTE_URL=http://$SAUCE_USERNAME:$SAUCE_ACCESS_KEY@ondemand.saucelabs.com:80/wd/hub
script: bin/test
after_script:
- kill $JAVA_PID
env:
  global:
  - secure: ! 'ZvQWLh8NWClOL5PVwC4j5HuH1oBIe/R29U5eFjU4AJ3sXPO+9vjiW1uJYM26
      JcQ6dh0x7LshzrW+IXcLFWf9lgDOvUYKTkNtttm/CQL9Di/3vjnBR3pQRI/a
      ZccoINj/3gvBW2lKxOrgSpLUghMoFhO7OmvAtsduso1D6p38als='
  - secure: ! 'L4nxOSBc3LsTYNfySAJjRl6eYWwWpgF2S68CMZpHbCU9ceE8nbxDzeNZskst
      ENdEgRvpaR1N3KOivBGgMso3KguyYo+ztjXKdpjcEJQFLjOjRi+LwjqfFJ1N
      454AhguEifDkRDX42i4dszyQXRrM5EFfvPyq5pOSa0oYRmgibwY='
matrix:
  include:
    - env:
       - ROBOT_BROWSER=internetexplorer
       - ROBOT_DESIRED_CAPABILITIES="platform:Windows 2012,version:10"
